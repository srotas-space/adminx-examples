# Create collection (typed DIM=4 at compile time)
curl -X POST "http://localhost:8083/srotas/collections/demo-typed" -H 'Content-Type: application/json' -d '{"description":"typed demo"}'

# Upsert one (create/update)
curl -X POST "http://localhost:8083/srotas/collections/demo-typed/docs" -H 'Content-Type: application/json' -d \
'{"embedding":[0.1,0.2,0.3,0.4],"metadata":{"doc":"a","lang":"en","views":10}}'

# Batch upsert
curl -X POST "http://localhost:8083/srotas/collections/demo-typed/docs/batch" -H 'Content-Type: application/json' -d \
'{"items":[
  {"embedding":[0.2,0.1,0.4,0.3],"metadata":{"doc":"b","lang":"en","views":50,"tags":["ml"]}},
  {"embedding":[0.9,0.0,0.1,0.0],"metadata":{"doc":"c","lang":"hi","views":5}}
]}'

# Query with filter (lang in)
curl -X POST "http://localhost:8083/srotas/collections/demo-typed/query" -H 'Content-Type: application/json' -d \
'{"embedding":[0.1,0.2,0.3,0.4],"top_k":5,"filter_lang_in":["en","hi"]}'

# List ids
curl "http://localhost:8083/srotas/collections/demo-typed/ids?offset=0&limit=10"

# Count
curl "http://localhost:8083/srotas/collections/demo-typed/count"

# Get by id
curl "http://localhost:8083/srotas/docs/<UUID>"

# Delete by id
curl -X DELETE "http://localhost:8083/srotas/docs/<UUID>"

# Drop collection
curl -X DELETE "http://localhost:8083/srotas/collections/demo-typed"
